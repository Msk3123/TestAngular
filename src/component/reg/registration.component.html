<div class="wrapper">
    <div class="registration-container">
        <h1 class="registration-title">üéÆ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≥—Ä–∞–≤—Ü—è</h1>

        <form [formGroup]="fg" (ngSubmit)="startGame()">
            <div class="form-group">
                <label class="form-label">–Ü–º'—è:</label>
                <input
                        formControlName="fistName"
                        class="form-input"
                        [class.invalid]="fg.get('fistName')?.invalid && fg.get('fistName')?.touched"
                        placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è"
                />
                <span class="form-validation-error" *ngIf="fg.get('fistName')?.invalid && fg.get('fistName')?.touched">
                    –Ü–º'—è –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏
                </span>
            </div>

            <div class="form-group">
                <label class="form-label">–ü—Ä—ñ–∑–≤–∏—â–µ:</label>
                <input
                        formControlName="lastName"
                        class="form-input"
                        [class.invalid]="fg.get('lastName')?.invalid && fg.get('lastName')?.touched"
                        placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ –ø—Ä—ñ–∑–≤–∏—â–µ"
                />
                <span class="form-validation-error" *ngIf="fg.get('lastName')?.invalid && fg.get('lastName')?.touched">
                    –ü—Ä—ñ–∑–≤–∏—â–µ –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏
                </span>
            </div>

            <div class="form-group">
                <label class="form-label">–ù—ñ–∫–Ω–µ–π–º:</label>
                <input
                        formControlName="nickname"
                        class="form-input"
                        [class.invalid]="fg.get('nickname')?.invalid && fg.get('nickname')?.touched"
                        placeholder="–í–≤–µ–¥—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω—ñ–∫–Ω–µ–π–º"
                />
                <span class="form-validation-error" *ngIf="fg.get('nickname')?.invalid && fg.get('nickname')?.touched">
                    –ù—ñ–∫–Ω–µ–π–º –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 3 —Å–∏–º–≤–æ–ª–∏
                </span>
            </div>

            <div class="success-message" *ngIf="successMessage()">
                {{ successMessage() }}
            </div>

            <div class="error-message" *ngIf="errorMessage()">
                {{ errorMessage() }}
            </div>

            <div class="button-container">
                <button type="button" class="gradient-button" (click)="clear()">
                    <span></span>
                    <span>–û—á–∏—Å—Ç–∏—Ç–∏</span>
                </button>
                <button type="submit" class="gradient-button" [disabled]="fg.invalid">
                    <span></span>
                    <span>–ü–æ—á–∞—Ç–∏ –≥—Ä—É</span>
                </button>
            </div>
        </form>
    </div>

    <!-- Leaderboard Section -->
    <div class="leaderboard-container">
        <h2 class="leaderboard-title">üèÜ –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤</h2>
        <div class="leaderboard-content">
            <div class="leaderboard-header">
                <span class="rank-header">–ú—ñ—Å—Ü–µ</span>
                <span class="player-header">–ì—Ä–∞–≤–µ—Ü—å</span>
                <span class="level-header">–†—ñ–≤–µ–Ω—å</span>
                <span class="accuracy-header">–¢–æ—á–Ω—ñ—Å—Ç—å</span>
            </div>

            <div class="leaderboard-list">
                <div class="leaderboard-item" *ngFor="let player of topPlayers(); let i = index">
                    <span class="rank">
                        <span class="rank-number">{{ i + 1 }}</span>
                        <span class="rank-medal" *ngIf="i < 3">{{ getMedal(i) }}</span>
                    </span>
                    <span class="player-name">{{ player.nickname }}</span>
                    <span class="player-level">{{ player.level }}</span>
                    <span class="player-accuracy">{{ player.averageAccuracy.toFixed(1) }}%</span>
                </div>

                <div class="no-players" *ngIf="topPlayers().length === 0">
                    <span>üéØ –ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –≥—Ä–∞–≤—Ü—ñ–≤</span>
                    <span>–°—Ç–∞–Ω—å—Ç–µ –ø–µ—Ä—à–∏–º!</span>
                </div>
            </div>
        </div>
    </div>
</div>